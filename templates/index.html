<!DOCTYPE html>
<html>
<head>
    <title>Up Chiapas</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='Style.css') }}">
    <link rel="icon" href="https://yt3.googleusercontent.com/ytc/AIdro_mf_8EkwzsGbmw_w3w9jY_VUUxJFg8WBjn5OyBEbwirKg=s160-c-k-c0x00ffffff-no-rj">
</head>
</head>
<body>
    <header class="header">
        <img src="https://www.upchiapas.edu.mx/sgi/imgs/logo_upw1.png" alt="Logo">
        <div class="content">
        </div>
    </header>
    <h1> - Analizador Léxico - </h1>
    <form action="/" method="post">
      <textarea name="code" rows="10" cols="50">{{ code }}</textarea><br />
      <input type="submit" value="Generar Análisis" />
    </form>

    <div id="result" style="display: {{ 'block' if tokens else 'none' }}" align="center">
      <h2>Resultado del Análisis</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Token</th>
            <th>Línea</th>
            <th>Palabra reservada (Python)</th>
            <th>Palabra reservada (JavaScript)</th>
            <th>Palabra reservada (R)</th>
            <th>Símbolo</th>
            <th>Paréntesis izquierdo</th>
            <th>Paréntesis derecho</th>
            <th>Llave izquierda</th>
            <th>Llave derecha</th>
            <th>Número</th>
            <th>Identificador</th>
            <th>Error de léxico</th>
          </tr>
        </thead>
        <tbody>
          {% for token in tokens %}
          <tr>
            <td>{{ token.token }}</td>
            <td>{{ token.line }}</td>
            <td>{{ token.python_reserved }}</td>
            <td>{{ token.javascript_reserved }}</td>
            <td>{{ token.r_reserved }}</td>
            <td>{{ token.symbol }}</td>
            <td>{{ token.left_paren }}</td>
            <td>{{ token.right_paren }}</td>
            <td>{{ token.left_brace }}</td>
            <td>{{ token.right_brace }}</td>
            <td>{{ token.number }}</td>
            <td>{{ token.identifier }}</td>
            <td>{{ token.lexical_error }}</td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <td colspan="3">Totales:</td>
            <td>{{ counts.python_reserved_words }}</td>
            <td>{{ counts.javascript_reserved_words }}</td>
            <td>{{ counts.r_reserved_words }}</td>
            <td>{{ counts.symbols }}</td>
            <td>{{ counts.left_paren }}</td>
            <td>{{ counts.right_paren }}</td>
            <td>{{ counts.left_brace }}</td>
            <td>{{ counts.right_brace }}</td>
            <td>{{ counts.numbers }}</td>
            <td>{{ counts.identifiers }}</td>
            <td>{{ counts.lexical_errors }}</td>
            <!-- Agregar esta celda para el contador de errores léxicos -->
          </tr>
        </tfoot>
      </table>
    </div>
  </body>
</html>
